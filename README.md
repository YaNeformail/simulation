В рамках работы реализован узел, предназначенный для симмуляции робота с дифференциальным приводом, управление осуществляется с помощью пакета `turtlebot3_teleop`.

## Требования к узлу

* Подписывается на управляющие команды для линейной и угловой скоростей в формате `geometry_msgs/Twist`

* Публикует показания энкодеров в пользовательском формате сообщений, содержащем поле типа `std_msgs/Header` и два `uint32` поля для левого и правого энкодеров.

* Публикует положение робота в формате `nav_msgs/Odom`

## Краткое описание реализации

"Подписка" на управляющие команды для скоростей описана в файле `listen.py`
Показания энкодеров прописаны в файле `Num.msg`
Обработка входных данных и последующая публикация положения робота описаны в файле `version2.py`

Формирование файлов `listen.py` и `Num.msg` производятся по стандартной процедуре, `version2.py` нуждается в более подробном описании.
Для более удобной работы с данными создается основной класс `MyPublisher()`, в котором настраивается публикатор, дающий информацию о данных одометрии, пути и угловой скорости каждого из колес, и подписчик. Также инициализируются начальные значения положения робота, угловой скорости и угла колес и методы класса, используемые в процессе обработки данных, такие как метод интегрирования `integration()`, метод `transitProcess()`, задающий характер изменения величины и метод `update()`, в котором и происходит обработка данных.

## Что делает метод `update()`

1. принимает задающие воздействия
2. преобразует эти воздействия в угловую скорость каждого из колес
3. из полученных данных вычисляет скорость и угловую скорость робота
4. на основе данных из пункта 3 получает данные о положении по 3-м осям
5. данные для одометра обновляются в режиме реального времени. Для получения информации об ориентации используется положение по 3-м осям
6. на основе положений и ориентации выстраивается траектория движения в режиме реального времени
7. публикуются пользовательские сообщения с показаниями энкодеров, формирующихся на основе состояния колес

Основная функция файла инициализирует узел, использует объект класса `MyPublisher()`, выполняющий все вышеперечисленное и выполняется, пока не будет принудительного завершения.

## Инструкция по запуску

`roscore` - запуск ядра рос  
`rosrun snar version2.py` - запуск основного кода с расчётами и публикатором
`rosrun snar listen.py` - запуск слушателя, который принимает значения энкодеров
`export TURTLEBOT3_MODEL=waffle; roslaunch turtlebot3_teleop turtlebot3_teleop_key.launch` - запуск пульта управления, команды которого слушает основной код
`rviz` - запуск визуализатора

## Результаты работы симмуляции 
1. Сообщения энкодера

![image](https://github.com/YaNeformail/simulation/assets/79791800/06cdb05a-239e-4627-870a-9b875608fe5f)

2. Отрисовка ориентации

![image](https://github.com/YaNeformail/simulation/assets/79791800/562af8fb-e9f9-4a39-8bd7-e83af7f9414e)

3. Неудачная попытка отрисовать путь

![image](https://github.com/YaNeformail/simulation/assets/79791800/3c189897-e432-4c76-af9f-89a151034256)
